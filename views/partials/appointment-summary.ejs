<!-- filepath: /Users/taipham/Desktop/node_bookings/views/partials/appointment-summary.ejs -->
<aside id="appointment-summary">
  <div class="summary-card">
    <h3>Appointment summary</h3>
    <div id="summary-list">
      <div id="summary-empty">No services added yet</div>
      <ul id="summary-items" style="display:none;">
        <!-- Items will be dynamically inserted here -->
      </ul>
    </div>    <!-- Continue Button with Enhanced Styling -->
    <div class="button-container">
      <button class="button btn-primary enhanced-next-btn" id="continue-btn" type="submit" disabled style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 1rem 1.5rem; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; opacity: 0.5; width: 100%;">
        <span>Next</span>
        <svg class="next-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-left: 8px;">
          <line x1="5" y1="12" x2="19" y2="12"></line>
          <polyline points="12 5 19 12 12 19"></polyline>
        </svg>
      </button>
    </div>
    <!-- Continue button moved to appointment summary -->
    <button id="call-us-message" type="button" style="display:none;" class="call-us-message">Online booking is not available for this combination. Please contact us to request your appointment.</button>
  </div>
  <button id="summary-close-btn">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>
  </button>
</aside>

<!-- Mobile summary bar and sheet -->
<div id="summary-bottom-bar">
  <div>
    <div>
      <div>
        <span id="summary-bar-count"></span>
        <span id="summary-bar-total"></span>
      </div>
      <span id="summary-bar-duration"></span>
    </div>
    <div>
      <button id="summary-bar-expand" type="button" aria-label="View summary">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="18 15 12 9 6 15"></polyline>
        </svg>
      </button>      <button id="summary-bar-next" type="submit" class="button btn-primary enhanced-next-btn" disabled style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 0.75rem 1.25rem; border-radius: 6px; font-size: 0.9rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">
        <span>Next</span>
        <svg class="next-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-left: 6px;">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </button>
    </div>
  </div>
</div>

<div id="summary-sheet-overlay"></div>

<div id="summary-bottom-sheet" style="position:fixed;left:0;right:0;bottom:0;z-index:2201;background:#fff;border-radius:18px 18px 0 0;box-shadow:0 -4px 32px rgba(0,0,0,0.18);padding:24px 18px 24px 18px;max-height:80vh;overflow-y:auto;display:none;">
  <div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;">
    <h4 style="font-weight:700;font-size:1.15em;margin:0;">Appointment summary</h4>
    <button id="summary-sheet-close" type="button" style="background:none;border:none;color:#666;cursor:pointer;padding:6px;margin:-6px;">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>
  <div id="summary-sheet-list">
    <div id="summary-sheet-empty" style="color:#888;text-align:center;padding:18px 0;">No services added yet</div>
    <ul id="summary-sheet-items" style="list-style:none;padding:0;margin:0;display:none;"></ul>
  </div>  <button id="summary-sheet-next" type="submit" class="button btn-primary enhanced-next-btn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; padding: 1rem 1.5rem; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; width: 100%; margin-top: 24px; margin-bottom: 8px;">
    <span>Next</span>
    <svg class="next-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" style="margin-left: 8px;">
      <path d="M5 12h14M12 5l7 7-7 7"/>
    </svg>
  </button>
</div>

<!-- Sheet overlay -->
<div id="summary-sheet-overlay"></div>